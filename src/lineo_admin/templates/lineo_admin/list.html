{% extends 'lineo_admin/base.html' %}
{% load i18n %}
{% load get urlaccess %}

{% block main %}

<div class="d-flex justify-content-end mb-1">
  {% url 'lineo-admin:user-create' as href %}
  {% include "lineo_admin/includes/drawer-button.html"
     with href=href icon="icons/plus.svg" label="Add" %}
</div>

<table class="table">
  <thead>
    <tr>
      {% for column in view.get_columns %}
      <th scope="col">{{ column.verbose_name|capfirst }}</th>
      {% endfor %}
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    {% for obj in object_list %}
      <tr>
        {% for column in view.columns %}
        <td>{% get obj column %}</td>
        {% endfor %}
        <td>
          {% for action in view.actions %}
            {% urlaccess action.viewname obj as href %}
            {% if href %}
              {% include "lineo_admin/includes/drawer-button.html"
                 with href=href icon=action.icon title=action.title %}
            {% endif %}
          {% endfor %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
